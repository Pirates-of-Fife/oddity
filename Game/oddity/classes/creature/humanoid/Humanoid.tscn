[gd_scene load_steps=29 format=3 uid="uid://cop5lcnhf25yd"]

[ext_resource type="Script" path="res://classes/creature/humanoid/Humanoid.gd" id="1_enw0c"]
[ext_resource type="PackedScene" uid="uid://bocuwsyrmf57u" path="res://classes/mind/player/anchor/Anchor.tscn" id="2_a7dfl"]
[ext_resource type="AudioStream" uid="uid://cd6cjm86lqkou" path="res://classes/multi-function-display/targeting/radar/select.wav" id="3_5xttm"]

[sub_resource type="PhysicsMaterial" id="PhysicsMaterial_nhlgx"]
friction = 0.2
rough = true

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_7syud"]
height = 1.6

[sub_resource type="CapsuleMesh" id="CapsuleMesh_8wi0c"]
height = 1.6

[sub_resource type="Curve" id="Curve_l12p1"]
_data = [Vector2(0, 0.461538), 0.0, 0.0, 0, 0, Vector2(1e-05, 0.725275), 0.0, 0.0, 0, 0, Vector2(0.853333, 0.384615), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="CurveTexture" id="CurveTexture_odtyf"]
curve = SubResource("Curve_l12p1")

[sub_resource type="Gradient" id="Gradient_wrnmm"]
colors = PackedColorArray(0, 0, 1, 1, 0, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_brouq"]
gradient = SubResource("Gradient_wrnmm")

[sub_resource type="Curve" id="Curve_yp88i"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.484444, 0.846154), 0.0, 0.0, 0, 0, Vector2(1, 0.362637), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_qwbeq"]
curve = SubResource("Curve_yp88i")

[sub_resource type="Curve" id="Curve_bdupb"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.835556, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_iy8h6"]
curve = SubResource("Curve_bdupb")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_6kw22"]
lifetime_randomness = 0.04
spread = 180.0
initial_velocity_max = 6.0
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveTexture_iy8h6")
color_ramp = SubResource("GradientTexture1D_brouq")
alpha_curve = SubResource("CurveTexture_odtyf")
emission_curve = SubResource("CurveTexture_qwbeq")
hue_variation_min = -0.07
hue_variation_max = 0.06
turbulence_enabled = true

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xqqb3"]
transparency = 1
diffuse_mode = 3
specular_mode = 1
vertex_color_use_as_albedo = true
metallic_specular = 0.0

[sub_resource type="SphereMesh" id="SphereMesh_bvaf6"]
material = SubResource("StandardMaterial3D_xqqb3")
radius = 0.2
height = 0.4
radial_segments = 4
rings = 4

[sub_resource type="Curve" id="Curve_wd87l"]
_data = [Vector2(0, 0.461538), 0.0, 0.0, 0, 0, Vector2(1e-05, 0.725275), 0.0, 0.0, 0, 0, Vector2(0.853333, 0.384615), 0.0, 0.0, 0, 0, Vector2(1, 0), 0.0, 0.0, 0, 0]
point_count = 4

[sub_resource type="CurveTexture" id="CurveTexture_4f1ei"]
curve = SubResource("Curve_wd87l")

[sub_resource type="Gradient" id="Gradient_2to7p"]
colors = PackedColorArray(0, 0, 1, 1, 0, 1, 1, 1)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_oyg66"]
gradient = SubResource("Gradient_2to7p")

[sub_resource type="Curve" id="Curve_fjn3c"]
_data = [Vector2(0, 1), 0.0, 0.0, 0, 0, Vector2(0.484444, 0.846154), 0.0, 0.0, 0, 0, Vector2(1, 0.362637), 0.0, 0.0, 0, 0]
point_count = 3

[sub_resource type="CurveTexture" id="CurveTexture_ad1ot"]
curve = SubResource("Curve_fjn3c")

[sub_resource type="Curve" id="Curve_1rr6o"]
_data = [Vector2(0, 0.527473), 0.0, 0.0, 0, 0, Vector2(0.835556, 0), 0.0, 0.0, 0, 0]
point_count = 2

[sub_resource type="CurveTexture" id="CurveTexture_q1rjy"]
curve = SubResource("Curve_1rr6o")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_xyv88"]
lifetime_randomness = 0.04
emission_shape = 2
emission_sphere_radius = 0.6
spread = 180.0
initial_velocity_min = -6.0
gravity = Vector3(0, 0, 0)
scale_curve = SubResource("CurveTexture_q1rjy")
color_ramp = SubResource("GradientTexture1D_oyg66")
alpha_curve = SubResource("CurveTexture_4f1ei")
emission_curve = SubResource("CurveTexture_ad1ot")
hue_variation_min = -0.07
hue_variation_max = 0.06
turbulence_enabled = true

[sub_resource type="SphereShape3D" id="SphereShape3D_1feha"]
radius = 0.3

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_6r51v"]
radius = 0.6

[node name="Humanoid" type="RigidBody3D" node_paths=PackedStringArray("store_particles", "retrieve_particles", "grounded_marker", "pick_up_location", "fall_timer", "ground_shape_cast", "stand_up_shape_cast", "anchor")]
collision_layer = 268436993
collision_mask = 268436993
mass = 60.0
physics_material_override = SubResource("PhysicsMaterial_nhlgx")
continuous_cd = true
linear_damp = 10.0
angular_damp = 10.0
script = ExtResource("1_enw0c")
store_particles = NodePath("Anchor/TwistPivot/PitchPivot/CameraAnchor/Marker3D2/StoreParticles")
retrieve_particles = NodePath("Anchor/TwistPivot/PitchPivot/CameraAnchor/Marker3D2/RetrieveParticles")
jump_force = 300.0
grounded_marker = NodePath("Marker3D")
interaction_length = 6.0
pick_up_distance = 2.0
pick_up_location = NodePath("Anchor/TwistPivot/PitchPivot/CameraAnchor/Marker3D2")
interaction_probe_timeout_time = 0.155
fall_timer = NodePath("Timer")
ground_shape_cast = NodePath("ground_cast")
stand_up_shape_cast = NodePath("stand_up_cast")
controller_reference = "res://classes/controller/creature-controller/humanoid-controller/HumanoidController.tscn"
anchor = NodePath("Anchor")

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
shape = SubResource("CapsuleShape3D_7syud")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CollisionShape3D"]
visible = false
mesh = SubResource("CapsuleMesh_8wi0c")
skeleton = NodePath("../..")

[node name="Anchor" parent="." instance=ExtResource("2_a7dfl")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.47, 0)
enable_pitch_limit = true
pitch_limit = 90.0

[node name="Marker3D2" type="Marker3D" parent="Anchor/TwistPivot/PitchPivot/CameraAnchor" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, 1)

[node name="StoreParticles" type="GPUParticles3D" parent="Anchor/TwistPivot/PitchPivot/CameraAnchor/Marker3D2"]
emitting = false
amount = 80
lifetime = 0.15
one_shot = true
explosiveness = 0.59
local_coords = true
process_material = SubResource("ParticleProcessMaterial_6kw22")
draw_pass_1 = SubResource("SphereMesh_bvaf6")

[node name="RetrieveParticles" type="GPUParticles3D" parent="Anchor/TwistPivot/PitchPivot/CameraAnchor/Marker3D2"]
emitting = false
amount = 80
lifetime = 0.2
one_shot = true
explosiveness = 0.59
local_coords = true
process_material = SubResource("ParticleProcessMaterial_xyv88")
draw_pass_1 = SubResource("SphereMesh_bvaf6")

[node name="AudioStreamPlayer3D" type="AudioStreamPlayer3D" parent="Anchor/TwistPivot/PitchPivot/CameraAnchor/Marker3D2"]
stream = ExtResource("3_5xttm")
volume_db = -3.0
pitch_scale = 3.0
bus = &"Environment"

[node name="Marker3D" type="Marker3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, -0.711, 0)
gizmo_extents = 1.06

[node name="Timer" type="Timer" parent="."]
process_callback = 0
one_shot = true

[node name="ground_cast" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.401, 0)
shape = SubResource("SphereShape3D_1feha")
collision_mask = 525825
debug_shape_custom_color = Color(0, 0.67451, 0, 1)

[node name="stand_up_cast" type="ShapeCast3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.033, 0)
shape = SubResource("CapsuleShape3D_6r51v")
collision_mask = 525825
debug_shape_custom_color = Color(0, 0.67451, 0, 1)

[editable path="Anchor"]
